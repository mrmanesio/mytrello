# Bulk Actions - Массовые операции

## Обзор

Система массовых операций позволяет выбирать несколько задач одновременно и выполнять с ними различные действия.

## Функциональность

### Выбор задач

1. **Индивидуальный выбор задач**
   - Кликните на чекбокс рядом с задачей для выбора/отмены выбора
   - Выбранные задачи подсвечиваются визуально

2. **Выбор всех задач в колонке**
   - В каждой колонке есть кнопка "☐ Выбрать все"
   - При клике выбираются все задачи в данной колонке
   - Если все задачи уже выбраны, кнопка меняется на "✓ Выбрать все"
   - Показывается количество выбранных задач в колонке: "(N)"

3. **Глобальный выбор всех задач**
   - Горячая клавиша `Ctrl+A` выбирает все задачи на доске
   - Горячая клавиша `Esc` отменяет выбор всех задач

### Массовые операции

После выбора задач появляется панель массовых операций с кнопками:

1. **🗑️ Удалить** - удаляет все выбранные задачи
2. **✓ Отметить выполнеными** / **○ Отменить выполнение** - изменяет статус выполнения
3. **📁 Переместить** - перемещает задачи в другую колонку

## Техническая реализация

### Redux Store

```typescript
interface BoardState {
  columns: Column[];
  tasks: Task[];
  selectedTaskIds: string[]; // Массив ID выбранных задач
  isLoading: boolean;
  error: string | null;
}
```

### Действия Redux

- `selectTask(taskId)` - выбрать одну задачу
- `deselectTask(taskId)` - отменить выбор одной задачи
- `selectAllTasksInColumn(columnId)` - выбрать все задачи в колонке
- `selectAllTasks()` - выбрать все задачи на доске
- `deselectAllTasks()` - отменить выбор всех задач

### Селекторы

- `selectSelectedTaskIds` - получить ID выбранных задач
- `selectSelectedTasks` - получить объекты выбранных задач
- `selectSelectedTasksCount` - получить количество выбранных задач
- `selectAllTasksInColumnSelected(columnId)` - проверить, выбраны ли все задачи в колонке
- `selectSelectedTasksInColumnCount(columnId)` - получить количество выбранных задач в колонке

### Компоненты

#### Column
- Отображает кнопку "Выбрать все" для колонки
- Показывает состояние выбора (☐/✓)
- Отображает количество выбранных задач
- Передает обработчики для выбора задач

#### BulkActionPanel
- Отображается только при наличии выбранных задач
- Содержит кнопки для массовых операций
- Показывает количество выбранных задач
- Отображает горячие клавиши

## Стили

### Кнопка "Выбрать все"
- Обычное состояние: прозрачный фон, серая рамка
- Выбранное состояние: голубой фон, синяя рамка
- При наведении: светло-серый фон
- Размер: компактный, с иконкой и текстом

### Панель массовых операций
- Фиксированное позиционирование внизу экрана
- Полупрозрачный фон
- Кнопки с иконками и текстом
- Адаптивный дизайн

## Горячие клавиши

- `Ctrl+A` - выбрать все задачи
- `Esc` - отменить выбор всех задач
- `Delete` - удалить выбранные задачи (в разработке)

## Примеры использования

### Выбор всех задач в колонке
```typescript
const handleSelectAllInColumn = (columnId: string) => {
  dispatch(selectAllTasksInColumn(columnId));
};
```

### Проверка состояния выбора
```typescript
const allSelected = useAppSelector(state => 
  selectAllTasksInColumnSelected(state, columnId)
);
const selectedCount = useAppSelector(state => 
  selectSelectedTasksInColumnCount(state, columnId)
);
```

### Массовое удаление
```typescript
const handleBulkDelete = () => {
  if (window.confirm(`Удалить ${selectedCount} задач?`)) {
    dispatch(bulkDeleteTasks({ taskIds: selectedTaskIds }));
  }
};
``` 